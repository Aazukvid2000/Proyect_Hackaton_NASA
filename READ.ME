# üöÄ NASA Bio Research Platform

> Plataforma web para investigaci√≥n biol√≥gica espacial con b√∫squeda inteligente por IA desarrollada por el equipo **BOTSITOSSS** para un hackathon.

![NASA](https://img.shields.io/badge/NASA-Research-0B3D91?style=for-the-badge)
![PHP](https://img.shields.io/badge/PHP-8.2-777BB4?style=for-the-badge&logo=php)
![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?style=for-the-badge&logo=mysql)
![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker)

---

## üìã Tabla de Contenidos

- [Descripci√≥n General](#-descripci√≥n-general)
- [Caracter√≠sticas Principales](#-caracter√≠sticas-principales)
- [Arquitectura del Proyecto](#-arquitectura-del-proyecto)
- [Base de Datos](#-base-de-datos)
- [Sistema de Autenticaci√≥n](#-sistema-de-autenticaci√≥n)
- [B√∫squeda con IA](#-b√∫squeda-con-ia)
- [Internacionalizaci√≥n (i18n)](#-internacionalizaci√≥n-i18n)
- [Instalaci√≥n](#-instalaci√≥n)
- [Uso](#-uso)
- [Estructura de Archivos](#-estructura-de-archivos)
- [APIs Disponibles](#-apis-disponibles)
- [Equipo](#-equipo)

---

## üåå Descripci√≥n General

**NASA Bio Research Platform** es una plataforma web moderna dise√±ada para centralizar y facilitar el acceso a investigaciones cient√≠ficas sobre **flora y fauna en el espacio**. Desarrollada con tecnolog√≠as web est√°ndar (HTML, CSS, JavaScript, PHP) y potenciada por **inteligencia artificial Claude de Anthropic**, permite:

- üîç **B√∫squeda inteligente** de art√≠culos cient√≠ficos con an√°lisis sem√°ntico
- üë• **Sistema de usuarios** con roles (lector, investigador, administrador)
- üìù **Publicaci√≥n de investigaciones** por parte de investigadores
- üåê **Interfaz multiidioma** (Espa√±ol/English)
- ü§ñ **Chat con IA** para preguntas sobre los documentos

---

## ‚ú® Caracter√≠sticas Principales

### üîê Sistema de Autenticaci√≥n
- **3 niveles de usuario**: Lector, Investigador, Administrador
- **Registro con aprobaci√≥n manual** para investigadores
- **Sesiones seguras** con bcrypt para contrase√±as
- **Perfiles de usuario** con estad√≠sticas personalizadas

### üß† B√∫squeda con IA (Claude)
- **Mejora autom√°tica de consultas** usando procesamiento de lenguaje natural
- **B√∫squeda sem√°ntica** que entiende el contexto
- **Chat interactivo** para preguntar sobre documentos
- **Generaci√≥n de res√∫menes** cient√≠ficos autom√°ticos
- **An√°lisis de relevancia** de resultados

### üìö Base de Datos Cient√≠fica
- **30 art√≠culos precargados** (15 Flora + 15 Fauna)
- **Categorizaci√≥n** por Flora/Fauna
- **Metadatos completos**: autor, fecha, instituci√≥n, keywords
- **Enlaces a NASA OSDR** (Open Science Data Repository)

### üåê Internacionalizaci√≥n
- **Soporte completo** para Espa√±ol e Ingl√©s
- **Traducci√≥n din√°mica** sin recargar p√°gina
- **Sistema i18n modular** f√°cilmente extensible

### üìä Panel de Administraci√≥n
- **Gesti√≥n de usuarios** y solicitudes pendientes
- **Estad√≠sticas en tiempo real**
- **Aprobaci√≥n/rechazo** de nuevos investigadores

---

## üèóÔ∏è Arquitectura del Proyecto

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         FRONTEND (HTML/CSS/JS)      ‚îÇ
‚îÇ  - index.html (P√°gina principal)    ‚îÇ
‚îÇ  - login.html (Autenticaci√≥n)       ‚îÇ
‚îÇ  - perfil.html (Perfil usuario)     ‚îÇ
‚îÇ  - ai_dashboard.html (Panel IA)     ‚îÇ
‚îÇ  - admin.html (Administraci√≥n)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚îÇ API REST (JSON)
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         BACKEND (PHP 8.2)           ‚îÇ
‚îÇ  - auth.php (Autenticaci√≥n)         ‚îÇ
‚îÇ  - ai_search.php (B√∫squeda IA)      ‚îÇ
‚îÇ  - search_api.php (B√∫squeda normal) ‚îÇ
‚îÇ  - config.php (Configuraci√≥n)       ‚îÇ
‚îÇ  - publicaciones.php (CRUD docs)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚îÇ MySQLi/PDO
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       BASE DE DATOS (MySQL 8.0)     ‚îÇ
‚îÇ  - usuarios (auth + perfiles)       ‚îÇ
‚îÇ  - articulos (documentos)           ‚îÇ
‚îÇ  - categorias (Flora/Fauna)         ‚îÇ
‚îÇ  - keywords (etiquetas)             ‚îÇ
‚îÇ  - roles (permisos)                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Componentes Externos
- **Claude API (Anthropic)**: B√∫squeda inteligente y chat
- **Docker**: Contenedorizaci√≥n completa (MySQL + PHP + phpMyAdmin)

---

## üóÑÔ∏è Base de Datos

### Esquema Principal

#### Tabla `usuarios`
```sql
id INT PRIMARY KEY AUTO_INCREMENT
nombre_completo VARCHAR(255) NOT NULL
email VARCHAR(255) UNIQUE NOT NULL
password_hash VARCHAR(255) -- bcrypt
institucion VARCHAR(255)
afiliacion VARCHAR(255)
foto_perfil VARCHAR(500)
rol_id INT -- FK a roles
estado ENUM('activo','pendiente','inactivo')
created_at TIMESTAMP
ultimo_acceso TIMESTAMP
```

#### Tabla `articulos`
```sql
id INT PRIMARY KEY AUTO_INCREMENT
titulo VARCHAR(255) NOT NULL
autor VARCHAR(255)
resumen TEXT
contenido TEXT
url_documento VARCHAR(500) -- Enlace a NASA OSDR
fecha_publicacion DATE
categoria_id INT -- FK (1=Flora, 2=Fauna)
relevancia_score DECIMAL(3,1)
vistas INT DEFAULT 0
created_at TIMESTAMP
```

#### Tabla `roles`
```sql
id INT PRIMARY KEY
nombre VARCHAR(50) -- 'lector', 'investigador', 'admin'
descripcion TEXT
```

#### Tabla `categorias`
```sql
id INT PRIMARY KEY
nombre VARCHAR(100) -- 'Flora' o 'Fauna'
descripcion TEXT
```

#### Tabla `keywords`
```sql
id INT PRIMARY KEY
palabra VARCHAR(100) UNIQUE
```

#### Tabla `articulo_keywords` (relaci√≥n N:N)
```sql
articulo_id INT -- FK a articulos
keyword_id INT -- FK a keywords
PRIMARY KEY (articulo_id, keyword_id)
```

### Datos Precargados

El archivo `init_nasa.sql` incluye:
- ‚úÖ **15 estudios de Flora**: Arabidopsis, Lechuga, Girasol, Trigo, Tomate, Zinnia, etc.
- ‚úÖ **15 estudios de Fauna**: Drosophila, C. elegans, Ratones, Pez cebra, Tard√≠grados, etc.
- ‚úÖ **60+ keywords** relacionadas con biolog√≠a espacial
- ‚úÖ **Usuario admin** predeterminado (`admin@nasa.gov` / `admin123`)

---

## üîê Sistema de Autenticaci√≥n

### Archivo Principal: `backend/auth.php`

#### Funciones Disponibles

| Acci√≥n | M√©todo | Par√°metros | Respuesta |
|--------|--------|------------|-----------|
| `registrar` | POST | nombre_completo, email, password, institucion, afiliacion, rol | `{success, message, usuario_id}` |
| `login` | POST | email, password | `{success, message, redirect, usuario}` |
| `logout` | POST | - | `{success, message}` |
| `verificar` | GET | - | `{success, usuario}` |

### Flujo de Registro

1. **Usuario llena formulario** en `login.html`
2. **Validaci√≥n frontend** (emails, contrase√±as coinciden)
3. **POST a `/backend/auth.php?action=registrar`**
4. **Backend valida y crea usuario**:
   - Rol `investigador` ‚Üí estado `pendiente` (requiere aprobaci√≥n)
   - Rol `lector` ‚Üí estado `activo` (acceso inmediato)
5. **Hash bcrypt** de contrase√±a almacenado
6. **Respuesta JSON** con √©xito/error

### Flujo de Login

1. **Usuario ingresa email/contrase√±a**
2. **POST a `/backend/auth.php?action=login`**
3. **Verificaci√≥n**:
   - ¬øEmail existe?
   - ¬øContrase√±a correcta? (`password_verify()`)
   - ¬øEstado activo?
4. **Creaci√≥n de sesi√≥n PHP** con datos del usuario
5. **Redirecci√≥n seg√∫n rol**:
   - `admin` ‚Üí `/dashboard/admin.html`
   - `investigador` ‚Üí `/index.html`
   - `lector` ‚Üí `/index.html`

### Protecci√≥n de Rutas

```php
// En archivos protegidos
require_once 'config.php';

if (!isAuthenticated()) {
    http_response_code(401);
    echo json_encode(['error' => 'No autorizado']);
    exit;
}

if (!isAdmin()) {
    http_response_code(403);
    echo json_encode(['error' => 'Acceso denegado']);
    exit;
}
```

---

## ü§ñ B√∫squeda con IA

### Archivo Principal: `dashboard/ai_search.php`

#### Integraci√≥n con Claude API

```php
define('CLAUDE_API_KEY', 'sk-ant-api03-...');

function llamarClaude($prompt) {
    $data = [
        'model' => 'claude-3-haiku-20240307',
        'max_tokens' => 1024,
        'messages' => [
            ['role' => 'user', 'content' => $prompt]
        ]
    ];
    
    // cURL a api.anthropic.com/v1/messages
    // Retorna respuesta de IA
}
```

### Modos de B√∫squeda

#### 1Ô∏è‚É£ **B√∫squeda Inteligente** (`ai_search`)
- Usuario ingresa: *"¬øC√≥mo afecta la microgravedad a las plantas?"*
- **Claude mejora** la consulta: *"microgravedad plantas arabidopsis crecimiento desarrollo ra√≠ces gravitropismo"*
- **B√∫squeda en BD** con t√©rminos expandidos
- **Claude analiza** resultados y genera insights cient√≠ficos

#### 2Ô∏è‚É£ **B√∫squeda Sem√°ntica** (`semantic_search`)
- Busca por **significado** en lugar de coincidencia exacta
- Identifica documentos relacionados aunque no contengan las palabras exactas

#### 3Ô∏è‚É£ **Chat con IA** (`ai_question`)
- Usuario pregunta: *"¬øQu√© sabemos sobre reproducci√≥n en el espacio?"*
- **Claude consulta** art√≠culos relevantes de la BD
- **Genera respuesta** basada EXCLUSIVAMENTE en los documentos

#### 4Ô∏è‚É£ **Generaci√≥n de Res√∫menes** (`generate_summary`)
- Toma un art√≠culo completo
- **Claude genera** resumen t√©cnico conciso (120 palabras)

### Endpoints Disponibles

```javascript
// B√∫squeda inteligente
POST /dashboard/ai_search.php?action=ai_search
Body: { query: "efectos microgravedad" }

// Chat
POST /dashboard/ai_search.php?action=ai_question
Body: { question: "¬øQu√© estudios hay de ratones?" }

// Resumen
POST /dashboard/ai_search.php?action=generate_summary
Body: { article_id: 5 }

// Estad√≠sticas
GET /dashboard/ai_search.php?action=get_stats
```

### Dashboard de IA: `ai_dashboard.html`

Interfaz visual para:
- ‚úÖ Seleccionar proveedor de IA (Claude, ChatGPT, Gemini)
- ‚úÖ Elegir modo de b√∫squeda
- ‚úÖ Ver an√°lisis de IA en tiempo real
- ‚úÖ Chat interactivo con documentos
- ‚úÖ Estad√≠sticas de la base de datos

---

## üåê Internacionalizaci√≥n (i18n)

### Archivos del Sistema

1. **`locales/es.json`** - Traducciones en espa√±ol
2. **`locales/en.json`** - Traducciones en ingl√©s
3. **`js/i18n.js`** - Sistema de traducci√≥n

### Estructura de Traducciones

```json
{
  "welcome": "¬°Bienvenido a NASA Bio Research!",
  "nav": {
    "about": "Acerca de",
    "contact": "Informaci√≥n de Contacto"
  },
  "buttons": {
    "view_more": "Ver M√°s",
    "save": "Guardar"
  }
}
```

### Uso en HTML

```html
<!-- Texto simple -->
<h1 data-i18n="welcome">Welcome to NASA Bio Research!</h1>

<!-- Texto anidado -->
<button data-i18n="nav.about">About Us</button>

<!-- Placeholder -->
<input data-i18n-placeholder="search_placeholder" 
       placeholder="Search...">

<!-- T√≠tulo (tooltip) -->
<button data-i18n-title="buttons.save" title="Save">üíæ</button>
```

### Uso en JavaScript

```javascript
// Obtener traducci√≥n
const texto = i18n.t('welcome');
const boton = i18n.t('buttons.save');

// Cambiar idioma
i18n.setLanguage('es'); // Espa√±ol
i18n.setLanguage('en'); // English

// Suscribirse a cambios
i18n.subscribe((nuevoIdioma) => {
    console.log('Idioma cambiado a:', nuevoIdioma);
    // Re-renderizar contenido din√°mico
});
```

### Sistema Embebido en `index.html`

El archivo `index.html` incluye un sistema i18n simplificado embebido en JavaScript para funcionar sin dependencias externas:

```javascript
window.locales = {
    "en": { /* traducciones ingl√©s */ },
    "es": { /* traducciones espa√±ol */ }
};

function applyLocale(lang) { /* ... */ }
function toggleLanguage() { /* ... */ }
```

---

## üì¶ Instalaci√≥n

### Requisitos Previos

- **Docker** y **Docker Compose**
- Puerto **8081** (webserver) libre
- Puerto **3307** (MySQL) libre
- Puerto **8080** (phpMyAdmin) libre

### Instalaci√≥n con Docker (Recomendado)

```bash
# 1. Clonar repositorio
git clone <tu-repo>
cd nasa-bio-research

# 2. Iniciar contenedores
docker-compose up -d

# 3. Esperar a que MySQL est√© listo (aprox. 30 segundos)
docker-compose logs -f mysql

# 4. La base de datos se inicializa autom√°ticamente con init_nasa.sql
```

### Accesos

| Servicio | URL | Usuario | Contrase√±a |
|----------|-----|---------|------------|
| **Aplicaci√≥n Web** | http://localhost:8081 | - | - |
| **phpMyAdmin** | http://localhost:8080 | root | nasahack2024 |
| **MySQL** | localhost:3307 | nasauser | nasapass123 |

### Usuario Administrador Predeterminado

```
Email: admin@nasa.gov
Contrase√±a: admin123
```

**‚ö†Ô∏è CAMBIAR INMEDIATAMENTE en producci√≥n**

---

## üöÄ Uso

### Para Usuarios Lectores

1. **Navegar** a http://localhost:8081
2. **Buscar** art√≠culos sin necesidad de login
3. **Crear cuenta** (opcional) para guardar preferencias

### Para Investigadores

1. **Solicitar acceso** en `login.html` ‚Üí pesta√±a "Solicitar Acceso"
2. **Esperar aprobaci√≥n** del administrador
3. **Iniciar sesi√≥n** una vez aprobado
4. **Publicar investigaciones** con el bot√≥n flotante "Publica tu Investigaci√≥n"
5. **Ver perfil** con estad√≠sticas personales en `perfil.html`

### Para Administradores

1. **Login** con cuenta admin
2. **Acceso autom√°tico** al panel `admin.html`
3. **Gestionar solicitudes** pendientes
4. **Aprobar/Rechazar** nuevos investigadores
5. **Ver estad√≠sticas** globales

### B√∫squeda con IA

1. **Navegar** a `ai_dashboard.html` (requiere login)
2. **Seleccionar proveedor** de IA (Claude recomendado)
3. **Elegir modo** de b√∫squeda:
   - üß† B√∫squeda Inteligente
   - üéØ B√∫squeda Sem√°ntica
   - üí¨ Chat con IA
4. **Ingresar consulta** en lenguaje natural
5. **Ver an√°lisis** de IA y resultados

---

## üìÅ Estructura de Archivos

```
nasa-bio-research/
‚îÇ
‚îú‚îÄ‚îÄ index.html                    # P√°gina principal
‚îú‚îÄ‚îÄ login.html                    # Login/Registro
‚îú‚îÄ‚îÄ perfil.html                   # Perfil de usuario
‚îú‚îÄ‚îÄ docker-compose.yml            # Configuraci√≥n Docker
‚îú‚îÄ‚îÄ init_nasa.sql                 # Datos iniciales BD
‚îÇ
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ config.php                # Configuraci√≥n DB + helpers
‚îÇ   ‚îú‚îÄ‚îÄ auth.php                  # Sistema de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ auth_middleware.php       # Protecci√≥n de rutas
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ search_api.php        # B√∫squeda normal
‚îÇ       ‚îú‚îÄ‚îÄ ai_search.php         # B√∫squeda con IA
‚îÇ       ‚îú‚îÄ‚îÄ publicaciones.php     # CRUD art√≠culos
‚îÇ       ‚îî‚îÄ‚îÄ admin_users.php       # Gesti√≥n usuarios
‚îÇ
‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îú‚îÄ‚îÄ ai_dashboard.html         # Panel de IA
‚îÇ   ‚îú‚îÄ‚îÄ admin.html                # Panel administrador
‚îÇ   ‚îî‚îÄ‚îÄ ai_search.php             # (duplicado backend/)
‚îÇ
‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îú‚îÄ‚îÄ es.json                   # Traducciones espa√±ol
‚îÇ   ‚îî‚îÄ‚îÄ en.json                   # Traducciones ingl√©s
‚îÇ
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îî‚îÄ‚îÄ i18n.js                   # Sistema i18n
‚îÇ
‚îú‚îÄ‚îÄ uploads/
‚îÇ   ‚îî‚îÄ‚îÄ publicaciones/            # Documentos subidos
‚îÇ
‚îî‚îÄ‚îÄ logs/
    ‚îú‚îÄ‚îÄ php-errors.log            # Errores PHP
    ‚îî‚îÄ‚îÄ activity.log              # Actividad usuarios
```

---

## üîå APIs Disponibles

### üîê Autenticaci√≥n (`/backend/auth.php`)

#### Registrar Usuario
```http
POST /backend/auth.php?action=registrar
Content-Type: application/x-www-form-urlencoded

nombre_completo=Dr.+Juan+Perez
&email=juan@universidad.edu
&password=securepass123
&password_confirm=securepass123
&institucion=Universidad+Nacional
&afiliacion=Profesor+Investigador
&rol=investigador
```

**Respuesta:**
```json
{
  "success": true,
  "message": "Registro exitoso. Tu cuenta est√° pendiente de aprobaci√≥n.",
  "usuario_id": 5,
  "requiere_aprobacion": true
}
```

#### Iniciar Sesi√≥n
```http
POST /backend/auth.php?action=login
Content-Type: application/x-www-form-urlencoded

email=admin@nasa.gov
&password=admin123
```

**Respuesta:**
```json
{
  "success": true,
  "message": "Inicio de sesi√≥n exitoso",
  "redirect": "/dashboard/admin.html",
  "usuario": {
    "id": 1,
    "nombre": "Administrador",
    "email": "admin@nasa.gov",
    "rol": "admin",
    "estado": "activo"
  }
}
```

#### Verificar Sesi√≥n
```http
GET /backend/auth.php?action=verificar
```

**Respuesta:**
```json
{
  "success": true,
  "usuario": {
    "id": 1,
    "nombre": "Administrador",
    "email": "admin@nasa.gov",
    "rol": "admin",
    "foto_perfil": null
  }
}
```

---

### üîç B√∫squeda Normal (`/backend/api/search_api.php`)

#### Buscar Art√≠culos
```http
GET /backend/api/search_api.php?action=search&q=arabidopsis&orden=relevancia
```

**Respuesta:**
```json
[
  {
    "id": 1,
    "titulo": "Arabidopsis (modelo) - Arabidopsis thaliana",
    "autor": "Anna-Lisa Paul; Robert J. Ferl",
    "resumen": "Planta modelo de la familia Brassicaceae...",
    "fecha_publicacion": "2020-01-01",
    "categoria_nombre": "Flora",
    "keywords": "arabidopsis, transcript√≥mica, microgravedad",
    "relevancia_score": 9.5,
    "vistas": 156
  }
]
```

#### Obtener Todos los Art√≠culos
```http
GET /backend/api/search_api.php?action=all
```

---

### ü§ñ B√∫squeda con IA (`/dashboard/ai_search.php`)

#### B√∫squeda Inteligente
```http
POST /dashboard/ai_search.php?action=ai_search&ai_provider=claude
Content-Type: multipart/form-data

query=¬øQu√© efectos tiene la microgravedad en plantas?
```

**Respuesta:**
```json
{
  "success": true,
  "original_query": "¬øQu√© efectos tiene la microgravedad en plantas?",
  "improved_query": "microgravedad plantas desarrollo crecimiento arabidopsis gravitropismo ra√≠ces",
  "ai_analysis": "Los resultados muestran investigaciones clave sobre...",
  "provider": "claude",
  "results": [
    { "id": 1, "titulo": "...", "..." }
  ],
  "total": 8
}
```

#### Chat con Documentos
```http
POST /dashboard/ai_search.php?action=ai_question
Content-Type: multipart/form-data

question=¬øQu√© sabemos sobre reproducci√≥n animal en el espacio?
```

**Respuesta:**
```json
{
  "success": true,
  "question": "¬øQu√© sabemos sobre reproducci√≥n animal en el espacio?",
  "answer": "Seg√∫n los documentos consultados, los estudios con C. elegans...",
  "provider": "claude",
  "articles_consulted": 3
}
```

#### Generar Resumen
```http
POST /dashboard/ai_search.php?action=generate_summary
Content-Type: multipart/form-data

article_id=5
```

**Respuesta:**
```json
{
  "success": true,
  "article_id": "5",
  "ai_summary": "Estudio pionero que analiza cambios epigen√©ticos...",
  "provider": "claude"
}
```

---

### üìä Estad√≠sticas (`/dashboard/ai_search.php?action=get_stats`)

```http
GET /dashboard/ai_search.php?action=get_stats
```

**Respuesta:**
```json
{
  "success": true,
  "stats": {
    "total_articulos": 30,
    "por_categoria": [
      { "nombre": "Flora", "total": 15 },
      { "nombre": "Fauna", "total": 15 }
    ],
    "por_anio": [
      { "anio": "2022", "total": 5 },
      { "anio": "2021", "total": 8 }
    ],
    "top_autores": [
      { "autor": "Paul; Ferl", "total": 4 },
      { "autor": "Massa; Stutte", "total": 3 }
    ],
    "promedio_relevancia": 8.7
  }
}
```

---

### üë• Gesti√≥n de Usuarios - Admin (`/backend/api/admin_users.php`)

#### Obtener Usuarios Pendientes
```http
GET /backend/api/admin_users.php?action=get_pending
```

#### Aprobar Usuario
```http
POST /backend/api/admin_users.php?action=approve
Content-Type: multipart/form-data

user_id=5
```

#### Rechazar Usuario
```http
POST /backend/api/admin_users.php?action=reject
Content-Type: multipart/form-data

user_id=6
```

---

## üë• Equipo

**BOTSITOSSS** - Equipo de desarrollo del hackathon

> "Somos 3 amigos estudiantes de la UTM que quisimos probar nuestras habilidades y ver de qu√© √©ramos capaces. Fue una experiencia muy grata y satisfactoria."

### Contacto

üìß Email: santiagogabrielfloresruiz@gmail.com

---

## üìù Notas T√©cnicas

### Seguridad

- ‚úÖ **Contrase√±as hasheadas** con bcrypt (cost 10)
- ‚úÖ **Sesiones PHP** con `httponly` cookies
- ‚úÖ **Validaci√≥n** de inputs en frontend y backend
- ‚úÖ **Prepared statements** para prevenir SQL injection
- ‚úÖ **Sanitizaci√≥n** de datos con `real_escape_string` y `htmlspecialchars`

### Optimizaciones

- ‚úÖ **√çndices en BD** para email, rol_id, categoria_id
- ‚úÖ **B√∫squeda FULLTEXT** para mejor rendimiento
- ‚úÖ **Lazy loading** de im√°genes
- ‚úÖ **Cach√© de traducciones** en localStorage
- ‚úÖ **Conexi√≥n persistente** a BD con PDO

### Limitaciones Conocidas

- ‚ö†Ô∏è **API de Claude** requiere key v√°lida (incluida en c√≥digo)
- ‚ö†Ô∏è **Subida de archivos** no implementada completamente
- ‚ö†Ô∏è **Paginaci√≥n** limitada a 50 resultados m√°ximo
- ‚ö†Ô∏è **i18n en ai_dashboard.html** no implementado

---

## üêõ Troubleshooting

### Error: "No se puede conectar a la base de datos"

**Soluci√≥n:**
```bash
# Verificar que MySQL est√© corriendo
docker-compose ps

# Ver logs de MySQL
docker-compose logs mysql

# Reiniciar contenedores
docker-compose restart
```

### Error: "Call to undefined function password_verify()"

**Soluci√≥n:** Aseg√∫rate de usar PHP 8.2+
```bash
docker-compose down
docker-compose up -d --build
```

### Error: "CORS blocked"

**Soluci√≥n:** Los headers ya est√°n configurados en todos los archivos PHP:
```php
header('Access-Control-Allow-Origin: *');
header('Access-Control-Allow-Methods: POST, GET, OPTIONS');
```

### Claude API no responde

**Soluci√≥n:**
1. Verificar que la API key sea v√°lida
2. Comprobar conexi√≥n a internet
3. Ver logs en consola del navegador

---

## üìÑ Licencia

Este proyecto fue desarrollado para fines educativos durante un hackathon.

---

## üéØ Roadmap Futuro

- [ ] Implementar subida de archivos PDF
- [ ] Agregar m√°s proveedores de IA (OpenAI, Gemini)
- [ ] Sistema de notificaciones por email
- [ ] Gr√°ficas de estad√≠sticas con Chart.js
- [ ] Exportaci√≥n de resultados a CSV
- [ ] Modo oscuro/claro
- [ ] PWA (Progressive Web App)
- [ ] Tests unitarios

---

## üìú Archivos Adicionales del Sistema

### Frontend Scripts

#### `js/dashboard.js`
Script principal que maneja:
- **Carga de publicaciones** desde el backend
- **B√∫squeda con IA** integrada
- **Filtros y ordenamiento** de resultados
- **Visualizaci√≥n de modales** con detalles
- **Sistema de descargas** de documentos

**Funciones principales:**
```javascript
loadInitialPublications()    // Cargar datos al inicio
performAISearch(query)        // B√∫squeda con Claude
displaySearchResults(results) // Mostrar resultados
viewPublication(id)           // Modal de detalles
filterByCategory(category)    // Filtrar por Flora/Fauna
```

#### `js/auth-check.js`
Verificaci√≥n de sesi√≥n y actualizaci√≥n de UI seg√∫n rol:
```javascript
verificarSesion()                    // Verifica si hay sesi√≥n activa
mostrarOpcionesAutenticado(usuario)  // UI para usuarios logueados
mostrarOpcionesNoAutenticado()       // UI para visitantes
```

#### `js/auth.js`
Manejo completo de autenticaci√≥n:
- **Login** con validaci√≥n
- **Registro** con verificaci√≥n de contrase√±as
- **Validaci√≥n en tiempo real** de campos
- **Selector de roles** (lector/investigador)
- **Gesti√≥n de alertas** de √©xito/error

**Funciones clave:**
```javascript
handleLogin(event)      // Procesar login
handleRegister(event)   // Procesar registro
isValidEmail(email)     // Validar formato email
showAlert(type, msg)    // Mostrar alertas
```

### Backend APIs Adicionales

#### `backend/api/search.php`
API de b√∫squeda est√°ndar (sin IA):

**Par√°metros soportados:**
- `query` - T√©rmino de b√∫squeda
- `category` - Flora o Fauna
- `year` - A√±o de publicaci√≥n
- `author` - Nombre del autor
- `sort` - Ordenamiento (relevance/alphabetical/year/author)

**Respuesta:**
```json
{
  "success": true,
  "count": 15,
  "results": [...]
}
```

#### `backend/api/publicaciones.php`
CRUD completo de art√≠culos para investigadores:

**Acciones disponibles:**

| Acci√≥n | M√©todo | Descripci√≥n | Requiere Auth |
|--------|--------|-------------|---------------|
| `publicar` | POST | Crear nuevo art√≠culo | ‚úÖ Investigador |
| `mis_publicaciones` | GET | Ver art√≠culos propios | ‚úÖ Investigador |
| `editar` | POST | Modificar art√≠culo | ‚úÖ Autor/Admin |
| `eliminar` | POST | Borrar art√≠culo | ‚úÖ Autor/Admin |

**Validaciones:**
- T√≠tulo ‚â§ 255 caracteres
- Resumen y contenido obligatorios
- Categor√≠a v√°lida (1=Flora, 2=Fauna)
- URL ‚â§ 500 caracteres

#### `backend/api/admin_users.php`
Gesti√≥n de usuarios para administradores:

**Endpoints:**
```http
GET  /admin_users.php?action=get_pending  # Usuarios pendientes
GET  /admin_users.php?action=get_all      # Todos los usuarios
POST /admin_users.php?action=approve      # Aprobar usuario
POST /admin_users.php?action=reject       # Rechazar/eliminar
```

### Hojas de Estilo

#### `css/dashboard.css`
Estilos completos del dashboard:
- **Variables CSS** para tema consistente
- **Animaciones** (twinkle, float, fadeIn)
- **Navbar** fija con blur backdrop
- **Cards responsivos** con hover effects
- **Modal** overlay con blur
- **Scrollbars** personalizados
- **Media queries** para m√≥viles

**Variables de color:**
```css
--purple-dark: #2a3f5a;
--purple-main: #3E5F8A;
--green-main: #2e7d32;
--green-light: #4caf50;
```

#### `css/auth.css`
Estilos del sistema de autenticaci√≥n:
- **Dise√±o centrado** con gradiente NASA
- **Animaciones** de entrada (slideUp, fadeIn)
- **Tabs** con indicador activo
- **Forms** con estados focus
- **Selector de roles** visual
- **Spinner** de carga
- **Alertas** de colores (success/error/info)

---

## üîÑ Flujos de Usuario Completos

### Flujo: Usuario Lector

```
1. Visita index.html
2. Navega sin login (acceso p√∫blico)
3. Busca art√≠culos con IA
4. Ve detalles en modal
5. (Opcional) Se registra como lector
```

### Flujo: Investigador Nuevo

```
1. Accede a login.html
2. Click en "Solicitar Acceso"
3. Llena formulario completo:
   - Nombre completo
   - Email institucional
   - Instituci√≥n
   - Posici√≥n/Afiliaci√≥n
   - Contrase√±a
   - Selecciona rol "Investigador"
4. Env√≠a solicitud (estado: pendiente)
5. Admin revisa en admin.html
6. Admin aprueba ‚Üí estado: activo
7. Recibe notificaci√≥n (email manual)
8. Inicia sesi√≥n
9. Aparece bot√≥n "Publica tu Investigaci√≥n"
10. Llena formulario de publicaci√≥n
11. Art√≠culo visible p√∫blicamente
```

### Flujo: Administrador

```
1. Login con admin@nasa.gov
2. Redirecci√≥n autom√°tica a admin.html
3. Ve estad√≠sticas:
   - Solicitudes pendientes
   - Usuarios activos
   - Total usuarios
4. Pesta√±a "Solicitudes Pendientes":
   - Lista de investigadores sin aprobar
   - Botones: Ver / Aprobar / Rechazar
5. Pesta√±a "Todos los Usuarios":
   - Lista completa con estados
   - Filtros por rol/estado
6. Aprobar usuario:
   - Click en "Aprobar"
   - Usuario cambia a estado "activo"
   - Puede iniciar sesi√≥n
7. Rechazar usuario:
   - Click en "Rechazar"
   - Usuario eliminado de BD
```

---

## üß™ Testing

### Pruebas Manuales Recomendadas

#### Test de B√∫squeda IA
```
1. Ir a ai_dashboard.html
2. Seleccionar "Claude"
3. Ingresar: "¬øQu√© efectos tiene la microgravedad en plantas?"
4. Verificar:
   ‚úÖ Query mejorado por IA
   ‚úÖ An√°lisis de IA generado
   ‚úÖ Resultados relevantes
   ‚úÖ Estad√≠sticas actualizadas
```

#### Test de Autenticaci√≥n
```
1. Registro:
   - Email: test@universidad.edu
   - Contrase√±a: test123
   - Rol: Investigador
   ‚úÖ Mensaje "pendiente de aprobaci√≥n"

2. Login antes de aprobaci√≥n:
   ‚úÖ Error: "cuenta pendiente"

3. Aprobar desde admin.html
   ‚úÖ Estado cambia a "activo"

4. Login exitoso:
   ‚úÖ Redirecci√≥n a index.html
   ‚úÖ Bot√≥n "Publicar" visible
```

#### Test de Publicaci√≥n
```
1. Login como investigador
2. Click en bot√≥n flotante
3. Llenar formulario:
   - T√≠tulo: "Test de Arabidopsis"
   - Categor√≠a: Flora
   - Resumen: "Estudio de prueba"
   - Contenido: "Contenido detallado..."
4. Enviar
   ‚úÖ Mensaje de √©xito
   ‚úÖ Art√≠culo visible en b√∫squeda
   ‚úÖ Autor = nombre del usuario
```

---

## üîß Configuraci√≥n Avanzada

### Cambiar API Key de Claude

Editar `dashboard/ai_search.php`:
```php
define('CLAUDE_API_KEY', 'tu-nueva-key-aqui');
```

### Personalizar L√≠mites

En `backend/config.php`:
```php
define('MAX_FILE_SIZE', 100 * 1024 * 1024); // 100MB
define('MAX_RESULTS', 50); // Resultados por b√∫squeda
```

### Agregar Nueva Categor√≠a

En SQL:
```sql
INSERT INTO categorias (nombre, descripcion) 
VALUES ('Microbiolog√≠a', 'Estudios de microorganismos');
```

En HTML (index.html):
```html
<a href="#" class="nav-btn" onclick="loadByCategory('Microbiolog√≠a')">
    ü¶† Microbiolog√≠a
</a>
```

### Cambiar Puerto Docker

En `docker-compose.yml`:
```yaml
ports:
  - "8082:80"  # Cambiar 8081 a 8082
```

---

## üé® Personalizaci√≥n Visual

### Cambiar Paleta de Colores

Editar en `css/dashboard.css`:
```css
:root {
    --purple-main: #TU_COLOR;
    --green-main: #TU_COLOR;
    --text-white: #TU_COLOR;
}
```

### Modificar Animaciones

Controlar velocidad:
```css
@keyframes twinkle {
    /* Cambiar 3s a 5s para m√°s lento */
    animation: twinkle 5s ease-in-out infinite;
}
```

---

## üìä Monitoreo y Logs

### Ubicaci√≥n de Logs

```
logs/
‚îú‚îÄ‚îÄ php-errors.log       # Errores PHP
‚îú‚îÄ‚îÄ activity.log         # Actividad de usuarios
‚îî‚îÄ‚îÄ mysql-error.log      # Errores MySQL (en container)
```

### Ver Logs en Tiempo Real

```bash
# PHP errors
tail -f logs/php-errors.log

# MySQL logs
docker-compose logs -f mysql

# Apache logs
docker-compose logs -f webserver
```

### Logs de Actividad

La funci√≥n `logActivity()` en `config.php` registra:
- Inicio/cierre de sesi√≥n
- Publicaciones creadas
- Descargas de documentos
- B√∫squedas realizadas

---

## üö® Mantenimiento

### Backup de Base de Datos

```bash
# Crear backup
docker exec nasa_hackathon_db mysqldump -u root -pnasahack2024 nasa_research_db > backup_$(date +%Y%m%d).sql

# Restaurar backup
docker exec -i nasa_hackathon_db mysql -u root -pnasahack2024 nasa_research_db < backup_20250105.sql
```

### Limpiar Datos de Prueba

```sql
-- Eliminar usuarios de prueba
DELETE FROM usuarios WHERE email LIKE '%test%';

-- Resetear vistas de art√≠culos
UPDATE articulos SET vistas = 0;

-- Eliminar logs antiguos
DELETE FROM actividad_usuarios WHERE fecha_actividad < DATE_SUB(NOW(), INTERVAL 30 DAY);
```

### Optimizar Base de Datos

```sql
OPTIMIZE TABLE articulos;
OPTIMIZE TABLE usuarios;
ANALYZE TABLE articulos;
```

---

## üîê Seguridad en Producci√≥n

### Checklist de Seguridad

- [ ] Cambiar contrase√±a admin por defecto
- [ ] Generar nueva API key de Claude
- [ ] Cambiar credenciales MySQL
- [ ] Habilitar HTTPS (SSL/TLS)
- [ ] Configurar CORS restrictivo
- [ ] Activar rate limiting
- [ ] Implementar CSRF tokens
- [ ] Configurar firewall
- [ ] Backups autom√°ticos
- [ ] Logs de auditor√≠a

### Variables de Entorno Recomendadas

Crear `.env` (no incluir en Git):
```env
DB_HOST=mysql
DB_NAME=nasa_research_db
DB_USER=nasauser
DB_PASS=SuP3rS3cur3P@ssw0rd!
CLAUDE_API_KEY=sk-ant-api03-xxxxx
ADMIN_EMAIL=admin@tunasa.com
ADMIN_PASS=hashed_password_here
```

---

## üåü Caracter√≠sticas Premium (Futuras)

### En Desarrollo

- üìß **Sistema de notificaciones** por email (SMTP)
- üìä **Dashboard analytics** con Chart.js
- üîç **B√∫squeda de texto completo** con Elasticsearch
- üé® **Editor Markdown** para publicaciones
- üì± **App m√≥vil** (React Native)
- ü§ù **Colaboraci√≥n** en tiempo real
- üèÜ **Sistema de badges** para investigadores
- üìà **M√©tricas de impacto** (citas, descargas)

---

## üìû Soporte y Contacto

### Reportar Bugs

Enviar email a: **santiagogabrielfloresruiz@gmail.com**

Incluir:
- Descripci√≥n del problema
- Pasos para reproducir
- Logs relevantes
- Navegador/OS usado

### Solicitar Features

Formato de solicitud:
```
T√≠tulo: [FEATURE] Nombre de la caracter√≠stica
Descripci√≥n: Qu√© hace
Beneficio: Por qu√© es √∫til
Prioridad: Alta/Media/Baja
```

---

## üèÜ Cr√©ditos y Agradecimientos

### Tecnolog√≠as Utilizadas

- **Backend**: PHP 8.2, MySQL 8.0
- **Frontend**: HTML5, CSS3, JavaScript ES6+
- **IA**: Claude 3 Haiku (Anthropic)
- **Containerizaci√≥n**: Docker, Docker Compose
- **Fuentes**: NASA OSDR (Open Science Data Repository)

### Equipo BOTSITOSSS

Desarrollado con üíô por estudiantes de la UTM durante un hackathon.

**"Somos 3 amigos que quisimos probar nuestras habilidades y ver de qu√© √©ramos capaces."**

---

## üìñ Documentaci√≥n Adicional

### Links √ötiles

- [Anthropic Claude Docs](https://docs.anthropic.com/claude/docs)
- [NASA OSDR](https://osdr.nasa.gov/)
- [PHP Manual](https://www.php.net/manual/)
- [MySQL 8.0 Reference](https://dev.mysql.com/doc/refman/8.0/en/)
- [Docker Documentation](https://docs.docker.com/)

### Gu√≠as Relacionadas

- `INSTALL.md` - Instalaci√≥n detallada
- `API.md` - Documentaci√≥n completa de APIs
- `CONTRIBUTING.md` - Gu√≠a de contribuci√≥n
- `CHANGELOG.md` - Historial de cambios

---

## ‚öñÔ∏è Licencia

Este proyecto fue desarrollado para fines educativos durante un hackathon organizado por NASA Space Apps Challenge.

**Uso educativo y de investigaci√≥n √∫nicamente.**

---

## üéØ Estado del Proyecto

| Componente | Estado | Versi√≥n |
|------------|--------|---------|
| Backend PHP | ‚úÖ Estable | 1.0.0 |
| Base de Datos | ‚úÖ Estable | 1.0.0 |
| Frontend | ‚úÖ Estable | 1.0.0 |
| B√∫squeda IA | ‚úÖ Funcional | 1.0.0 |
| i18n | ‚ö†Ô∏è Parcial | 0.9.0 |
| Testing | ‚ö†Ô∏è Manual | 0.8.0 |
| Documentaci√≥n | ‚úÖ Completa | 1.0.0 |

**√öltima actualizaci√≥n:** Octubre 2025

---

**¬°Gracias por usar NASA Bio Research Platform! üöÄüî¨**

*"Explorando el universo biol√≥gico, un art√≠culo a la vez."*